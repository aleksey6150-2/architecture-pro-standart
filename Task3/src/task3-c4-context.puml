@startuml C4_Context_Deposit_Opening_Simple
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-Plantuml/master/C4_Container.puml

Person(client, "Клиент", "Новый или существующий")
Person(manager, "Менеджер", "Кол-центр / Бэк-офис")

System(website, "Сайт", "PHP/React")
System(internet_bank, "Интернет-банк", "Java/Python")

System(deposit_api, "Deposit Service", "Java Spring Boot")
System(sms_service, "SMS Service", "Java/Python")
System(rate_service, "Rate Service", "Java Spring Boot")
System(queue, "Message Queue", "RabbitMQ")

System(abs, "АБС", "Delphi/Oracle")
System(cc_system, "Кол-центр", "React/Spring Boot")
System(sms_gateway, "SMS-шлюз", "Внешний")

Rel(client, website, "Подача заявки", "HTTPS")
Rel(client, internet_bank, "Подача заявки", "HTTPS")

Rel(website, deposit_api, "REST", "")
Rel(internet_bank, deposit_api, "REST", "")

Rel(deposit_api, rate_service, "Get rates", "REST")
Rel(deposit_api, sms_service, "Send SMS", "REST")
Rel(deposit_api, queue, "Send application", "Async")

Rel(sms_service, sms_gateway, "HTTP/SMPP", "")
Rel(queue, abs, "Batch process", "")

Rel(manager, cc_system, "Web-application", "")
Rel(cc_system, deposit_api, "Get details", "REST")

@enduml